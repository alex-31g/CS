## Рекурсия

**Рекурсия** – это когда функция вызывает сама себя с другими аргументами. Рекурсия должна иметь условие для выхода из рекурсии.

Общее количество рекурсивных вызовов называется *глубиной рекурсии*.    
Значение, на котором рекурсия заканчивается, называют *базисом рекурсии*. 

Рекурсию используют, когда вычисление функции можно свести к её более простому вызову, а его – ещё к более простому, и так далее.

---

На примере вычисления факториала рассмотрим шаги рекурсии.

```js
// 3! = 3 * 2 * 1 = 6

function factorial(n) {
	if (n === 1) return 1; // условие выхода из рекурсии
	return n * factorial(n - 1);
}
console.log(factorial(3));
```

ВЫЗОВ-1: ф-ция принимает число 3, срабатывает блок else, внутри которого мы умножаем 3 на результат вызова ф-ции factorial(3 - 1). Операция умножения сейчас не выполняется, так как мы находимся в состоянии ожидания результата от factorial(3 - 1):    
![](./imgs/fact1.png)

ВЫЗОВ-2: ф-ция принимает число 2, срабатывает блок else, внутри которого мы умножаем 2 на результат вызова ф-ции factorial(2 - 1). Операция умножения сейчас не выполняется, так как мы находимся в состоянии ожидания результата от factorial(2 - 1):   
![](./imgs/fact2.png)

ВЫЗОВ-3: ф-ция принимает число 1, срабатывает блок if, внутри которого мы возвращаем число 1 в ВЫЗОВ-2:   
![](./imgs/fact3.png)

ВЫЗОВ-2: ф-ция принимает число 1, происходит операция умножения 2*1, результат которой мы возвращаем в ВЫЗОВ-1:   
![](./imgs/fact4.png)

ВЫЗОВ-1: ф-ция принимает число 2, происходит операция умножения 3*2, результат которой мы возвращаем из ф-ции:    
![](./imgs/fact5.png)